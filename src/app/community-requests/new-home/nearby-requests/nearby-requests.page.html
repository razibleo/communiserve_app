<ion-header>
  <ion-toolbar color='primary'>
  <ion-buttons>
      <ion-back-button defaultHref='/community-requests/home'></ion-back-button>
      <ion-title>Nearby Requests</ion-title>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content *ngIf='isLoading'>
  <div style='position: relative; top: 50%; transform: translateY(-50%);' class='ion-text-center'><ion-spinner color='primary'></ion-spinner></div>
</ion-content>


<ion-content class='ion-padding' *ngIf='!isLoading'>
  <ion-grid style='max-width: 800px;'>
    <ion-row>
      <ion-col size-sm='8' offset-sm='2'>              
          <ion-card (click) ='onClickNearbyUser(nearbyUser.user)' class='ion-text center'  *ngFor='let nearbyUser of nearByUsers' > 
            <ion-card-header class='ion-margin'>
              <ion-card-title><b>{{nearbyUser.user.username}}</b></ion-card-title>
              <ion-card-subtitle>
                {{nearbyUser.distance}} KM Away<br>
              </ion-card-subtitle>
              <ion-avatar style='border: 2px solid orange; margin:0 auto; margin-top: 5%;'> 
                <img [src]='nearbyUser.user.photoURL'>
              </ion-avatar>
              <ion-card-content class='ion-padding'>
                <b>Requests Available: {{getAvailableRequests(nearbyUser)}}</b><br>
              </ion-card-content>
              <!-- <ion-button color = "primary" fill="clear"
              [routerLink] ="['/your-requests/your-requests-detail', i]">More</ion-button> -->
            </ion-card-header>
          </ion-card>         
      </ion-col>
    </ion-row>
  </ion-grid>

</ion-content>
