<ion-header>
  <ion-toolbar color='primary'>
    <ion-buttons slot="start">
      <ion-back-button defaultHref ="/login"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content color='primary' class='ion-padding'>
  <ion-grid class="max-width">

    <ion-row class='ion-padding'>
      <ion-col style='max-width:500px'>
        <ion-label>
          <h1 style='color: white; font-size: xx-large; font-family:"Bradley Hand ITC Custom"; font-weight: bold;'>Your Location</h1>
        </ion-label>
      </ion-col>
    </ion-row>

    <form #registrationForm="ngForm" (ngSubmit)="onSubmit(registrationForm)">
    <div style='background-color:white; padding:4%; border-radius: 7%; max-width: 700px; margin:0 auto;'>

      <ion-row>
        <ion-col offset-sm ='2' size-sm='8'>
          
            <ion-item>
              <ion-label position="floating" >Address 1</ion-label>
              <ion-input ngModel name='address1' #address1='ngModel' required></ion-input>
            </ion-item>
            <small class="red ion-padding" *ngIf='address1.invalid && address1.touched'>Address1 is Required</small>
  
            <ion-item>
              <ion-label position="floating" >Address 2</ion-label>
              <ion-input ngModel name='address2' #address2='ngModel'></ion-input>
            </ion-item>
          
        
            <ion-item>
              <ion-label position="floating" >Zip Code/PO Box</ion-label>
              <ion-input ngModel name='zipcode' #zipcode='ngModel' type='number' required ></ion-input>
            </ion-item>
            <small class="red ion-padding" *ngIf='zipcode.invalid && zipcode.touched'>Zip code/ PO Box is Required</small>
                 
  
            <ion-item>
              <ion-label position="floating">Country</ion-label>
              <ion-select interface="alert" required name="country" ngModel #country="ngModel" (ionChange)='getStates(country, state)'  > 
                  <ion-select-option  *ngFor="let countryData of countries"  [value]="countryData.country_name">{{countryData.country_name}}</ion-select-option>
              </ion-select>
            </ion-item>
  
  
            <ion-item>
              <ion-label position="floating">State</ion-label>
              <ion-select interface="alert" required name="state" ngModel #state="ngModel" [disabled]="country.invalid" (ionChange)='getCities(state, city)' > 
                <ion-select-option  *ngFor="let stateData of states"  [value]="stateData">{{stateData}}</ion-select-option>
            </ion-select>
            </ion-item>
  
  
            <ion-item>
              <ion-label position="floating">City</ion-label>
              <ion-select interface="alert" required name="city" ngModel #city="ngModel" [disabled]="state.invalid || country.invalid" > 
                <ion-select-option  *ngFor="let cityData of cities"  [value]="cityData">{{cityData}}</ion-select-option>
            </ion-select>
            </ion-item>
  
            <ion-row class="ion-align-items-center">
              <ion-col size='4' class="ion-padding" >
                <ion-text class="ion-align-items-center"color='medium' >{{countryCode}}</ion-text>
              </ion-col>
              <ion-col size='7'>
                <ion-item>
                  <ion-input class="ion-padding" placeholder="Phone Number" ngModel name='phoneNumber' #phoneNumber='ngModel' type='number' required ></ion-input>
                </ion-item>      
  
              </ion-col>
            </ion-row>
    
            <app-location-picker (locationPick)="onLocationPicked($event)" class='ion-margin'></app-location-picker>
  
            <!-- <ion-button (click)="onCamera()">Camera</ion-button>
            <ion-button (click)="getImageFromGallery()">Image Picker</ion-button> -->
          
          <!-- <ion-img [src]="selectedPhoto"></ion-img> -->
  
        </ion-col>
      </ion-row>
    </div>
    <ion-row>
      <ion-col>
        <ion-button color='light' type='submit' expand='block' shape='round' style="max-width: 500px; margin: 0 auto;" [disabled]='registrationForm.invalid || !isLocationPicked'><ion-label style='color: var(--ion-color-primary);'>Submit</ion-label></ion-button>

      </ion-col>
    </ion-row>

  
    </form> 
  </ion-grid>






</ion-content>
