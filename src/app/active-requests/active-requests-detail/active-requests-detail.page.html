<ion-header *ngIf='!isLoading'>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref = "/community-requests/home"></ion-back-button>
    </ion-buttons>
    <ion-title>Request {{requestNumber+1}}</ion-title>
    <!-- <ion-buttons slot="end">
      <ion-button  (click)="onDeleteRequest()" >Delete</ion-button>
    </ion-buttons>   -->
  </ion-toolbar>
</ion-header>

<ion-content *ngIf='!isLoading'>
  <ion-grid>
    <ion-row class='ion-padding'>
      <ion-col>
        <ion-label>
          <h2><b>Status: {{requestItem.status}}</b></h2>
          <ion-text><b>Request By: <a [routerLink]="['/profile/',requestItem.createdByUid]">{{requestItem.createdByUserName}}</a></b></ion-text><br>          
          <ion-text><b>Created on: {{requestItem.submittedDate | date:'dd/MM/yyyy'}} at {{requestItem.submittedDate | date:'HH:mm'}}</b></ion-text><br>
        </ion-label>
      </ion-col>
    </ion-row>
    <ion-row class='ion-padding' *ngIf='requestItem.acceptedByUid'>
      <ion-col>
        <ion-label>         
          <ion-text><b>Accepted By: {{requestItem.acceptedByUsername}}</b></ion-text><br>
          <ion-text><b>Accepted on: {{requestItem.acceptedDate | date:'dd/MM/yyyy'}} at {{requestItem.acceptedDate | date:'HH:mm'}}</b></ion-text><br>
        </ion-label>
      </ion-col>
    </ion-row>
    <ion-row class="ion-text-center ion-padding">
      <ion-col>
        <ion-label>
          <h2><b>Shopping List:</b></h2>
        </ion-label>
      </ion-col>
    </ion-row>

    <ion-row> 
      <ion-col size-sm="8" offset-sm="2"> 
        <ion-list>
          <ion-item-sliding  *ngFor="let shoppingItem of requestItem.shoppingList"  >
            <ion-item>
              <ion-label> 
                <div style="float: left;">
                  <h2>{{shoppingItem.name}}</h2>
                  <P>{{"Quantiy:"+ " " + shoppingItem.quantity}}</P>
                </div>
                <div style="float: right;">
                  <small>{{shoppingItem.importance | titlecase}}</small>
                </div>
              </ion-label> 
          </ion-item>
        </ion-item-sliding>
        </ion-list>
      </ion-col>
      </ion-row>    
  </ion-grid>
  

</ion-content>
